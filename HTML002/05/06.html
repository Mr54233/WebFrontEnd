<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>220708 课堂作业2</title>
</head>
<body>
    
    <script>
        // 输入年份和月份 , 然后按照如下方式打印日历 (假设输入的年份是 2022 , 月份 是 7)
        // 2022年 7月  已知条件:1900年1月1日是星期一
        // 日 一 二 三 四 五 六
        //                1  2
        // 3  4  5  6  7  8  9
        
        // 1. 这个月一号是星期几
        // 2. 这个月有几天
        // 算出两个日期之间相差的天数
        // 相差的天数 % 7 + 1 = 星期几   星期天强制转为 0 


        /* 
            功能: 根据月份返回这个月的天数 
            形参: month , 传入的月份 , 
                  year , 传入的年份
            返回值: 天数
            作者:tom
            版本:1.0
        */
        function getDays(month , year){
            var days = 0;
            switch(month){
                case 1:
                case 3:
                case 5:
                case 7:
                case 8:
                case 10:
                case 12:days = 31;break;
                case 4:
                case 6:
                case 9:
                case 11:days = 30; break;
                case 2:
                    days = 28;
                    if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0){
                        days++;
                    }
                    break;
            }
            return days;
        }
        
        // 输入年份月份
        var year = parseInt(prompt('请输入年份:')) , month = parseInt(prompt('请输入月份:'))
        // 计算一号和1900年一月一号相差多少天
        var total = 0;
        // 累加相差的整年的天数
        for (var y = 1900 ; y < year ; y++){
            total += 365;
            if (y % 4 == 0 && y % 100 != 0 || y % 400 == 0){
                total++;
            }
        }
        // 累加相差的整月的天数
        for (var m = 1 ; m < month ; m++){
            total += getDays(m , year)
            /* switch(m){
                case 1:
                case 3:
                case 5:
                case 7:
                case 8:
                case 10:
                case 12:total += 31;break;
                case 4:
                case 6:
                case 9:
                case 11:total += 30; break;
                case 2:
                    total += 28;
                    if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0){
                        total++;
                    }
            } */
        }
        // 计算一号是星期几
        var first = total % 7 + 1;
        first = first == 7 ? 0 : first;

        console.log(first)

        for (var m = 1 ; m < month ; m++){
            total = getDays(month , year)
            /* switch(m){
                case 1:
                case 3:
                case 5:
                case 7:
                case 8:
                case 10:
                case 12:total = 31;break;
                case 4:
                case 6:
                case 9:
                case 11:total = 30; break;
                case 2:
                    total = 28;
                    if (year % 4 == 0 && year % 100 != 0 || year % 400 == 0){
                        total++;
                    }
            } */
        }
        // 打印日历
        var space = '&emsp;&emsp;&emsp;';
        document.write(year + '年' + month + '月' + '<br>')
        document.write('日&emsp;&emsp;&emsp;一&emsp;&emsp;&emsp;二&emsp;&emsp;&emsp;三&emsp;&emsp;&emsp;四&emsp;&emsp;&emsp;五&emsp;&emsp;&emsp;六' + '<br>')
        var cnt = 0 ;
        for (var i = 0 ; i < first ; i++ , cnt++){
            document.write('&emsp;&emsp;&emsp;&emsp;');
        }
        for (var i = 1 ; i <= total ; i++){
            document.write(i + "&emsp;&emsp;&emsp;");
            cnt++;
            if (cnt % 7 == 0){
                document.write('<br>')
            }
        }
    </script>
    
</body>
</html>