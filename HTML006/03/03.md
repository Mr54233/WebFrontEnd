## 组合式 API - 生命周期函数

### Vue3 的生命周期 API

(选项式 vs 组合式)
|选项式 API|组合式 API|
|-|-|
|beforeCreate|setup|
|beforeMount|onBeforeMount
|mounted|onMounted
|beforeUpdate|onBeforeUpdate
|updated|onUpdated
|beforeDestroy|onBeforeUnmount
|destroyed|onUnmounted

### 生命周期函数的基本是用

1. 导入生命周期函数
2. 执行生命周期函数 传入回调

```js
import { onMounted } from "vue";
export default {
	setup() {
		onMounted(() => {
			console.log("组件挂载完成");
		});
	},
};
```

### 执行多次

生命周期函数是可以执行多次的,多次执行时传入的回调会在时机成熟时以此执行

## 组合式 API - 父子通信

### 组合式 API 下的父传子

基本思想

1. 父组件中给自足键绑定属性
2. 子组件内部通过 props 选项接收

```js
// 父组件
import sonCom from "./son-com.vue";

// 1. 绑定属性
<somCom message="this is app message"></somCom>;
```

```js
// 子组件
// 2. 通过defineProps “编译器宏” 接收子组件传递的数据
const props = defineProps({
	message: String,
});

{{message}}
```
